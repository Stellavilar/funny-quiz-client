(this["webpackJsonpfunny-quiz-client"]=this["webpackJsonpfunny-quiz-client"]||[]).push([[0],{156:function(e,t){var c=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;e.exports={validate:function(e){return!!c.test(e)}}},157:function(e,t){var c=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/;e.exports={validate:function(e){return!!c.test(e)}}},173:function(e,t,c){},200:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c(63),r=c(17),s=c(15),o=(c(173),c(2));var l=function(){return Object(o.jsx)("div",{className:"page404",children:Object(o.jsx)("p",{className:"page404-text",children:"Oups! Page introuvable"})})},i=c(9),u=c(153),j=(c(175),c(14)),d=c.n(j);var b=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),c=t[0],a=t[1];Object(n.useEffect)((function(){d.a.get("subcategories").then((function(e){a(e.data)})).catch((function(e){console.log(e)}))}),[]);var s=c.map((function(e,t){return Object(o.jsx)("div",{className:"each-slide",children:Object(o.jsx)(r.b,{to:"/classifiedQuiz/".concat(e.id),children:Object(o.jsx)("div",{className:"carousel",style:{height:"460px",borderRadius:"15px"},children:Object(o.jsx)("p",{children:e.title})})})},e.id)}));return Object(o.jsx)("div",{className:"slides",children:Object(o.jsx)(u.Slide,{children:s})})},O=c.p+"static/media/FUNNY QUIZ.db982200.jpg",h=c(214),p=c(215);var x=function(){var e=Object(s.f)(),t=localStorage.getItem("token"),c=localStorage.getItem("userId");return Object(o.jsx)("div",{className:"burger-button",children:Object(o.jsx)(p.a,{item:!0,text:"",icon:"bars",children:t?Object(o.jsxs)(p.a.Menu,{children:[Object(o.jsx)(p.a.Item,{onClick:function(){return e.push("/profilPage/".concat(c))},children:"Voir mon profil"}),Object(o.jsx)(p.a.Item,{onClick:function(){return function(){var e=localStorage.getItem("token");d.a.get("api/logout",{headers:{Authorization:"Bearer "+e}}).then((function(e){localStorage.clear(),window.location.reload(!1)})).catch((function(e){console.log(e)}))}()},children:"D\xe9connexion"})]}):Object(o.jsxs)(p.a.Menu,{children:[Object(o.jsx)(p.a.Item,{onClick:function(){return e.push("/createAccount")},children:"Cr\xe9er un compte"}),Object(o.jsx)(p.a.Item,{onClick:function(){return e.push("/login")},children:"Connexion"})]})})})};var m=function(){var e=Object(s.f)(),t=Object(n.useState)(""),c=Object(i.a)(t,2),a=c[0],l=c[1],u=Object(n.useState)({}),j=Object(i.a)(u,2),b=j[0],p=j[1];return Object(n.useEffect)((function(){d.a.get("subcategories").then((function(e){p(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)(r.b,{to:"/",children:Object(o.jsx)("img",{src:O,alt:"Funny quiz logo"})}),Object(o.jsx)(h.a,{value:a,onSearchChange:function(e){l(e.target.value)},results:b,onResultSelect:function(t,c){return n=c.result.id,void e.push("/classifiedQuiz/".concat(n));var n}}),Object(o.jsx)(x,{})]})},f=c(216),g=function(e){var t=e.tag,c=e.level,n=t.map((function(e,t){return Object(o.jsx)(p.a,{text:e.title,pointing:!0,className:"link item",style:{color:e.color,backgroundColor:"#edeaea"},children:Object(o.jsx)(p.a.Menu,{children:c.map((function(t,c){return Object(o.jsxs)(r.b,{to:"/specificQuiz/".concat(e.id,"/level/").concat(t.id),children:[" ",Object(o.jsx)(p.a.Item,{children:t.title},t.id)]},t.id)}))})},e.id)})),a=t.map((function(e,t){return Object(o.jsx)(p.a,{text:e.title,pointing:!0,className:"link item",style:{color:e.color,backgroundColor:"#edeaea"},children:Object(o.jsx)(p.a.Menu,{children:c.map((function(t,c){return Object(o.jsxs)(r.b,{to:"/specificQuiz/".concat(e.id,"/level/").concat(t.id),children:[" ",Object(o.jsx)(p.a.Item,{children:t.title},t.id)]},t.id)}))})},e.id)}));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{className:"head",children:Object(o.jsx)(f.a,{children:n})}),Object(o.jsx)("div",{className:"mobile-menu",children:a})]})};var v=function(){var e=localStorage.getItem("username"),t=Object(n.useState)([]),c=Object(i.a)(t,2),a=c[0],r=c[1],s=Object(n.useState)([]),l=Object(i.a)(s,2),u=l[0],j=l[1];return Object(n.useEffect)((function(){d.a.get("levels").then((function(e){j(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){d.a.get("tags").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(o.jsxs)("div",{className:"dashboard",children:[Object(o.jsx)(m,{}),e?Object(o.jsxs)("h3",{className:"username",children:["Hello ",e," !"]}):null,Object(o.jsx)(g,{tag:a,level:u}),Object(o.jsx)(b,{})]})},S=c(221),w=c(217),C=c(224),k=c(222),N=c(219),y=c(212);var I=function(){var e=Object(s.f)(),t=localStorage.getItem("token"),c=localStorage.getItem("userId"),a=Object(n.useState)([]),r=Object(i.a)(a,2),l=r[0],u=r[1],j=Object(n.useState)([]),b=Object(i.a)(j,2),O=b[0],h=b[1],p=Object(n.useState)({}),x=Object(i.a)(p,2),m=x[0],f=x[1],g=function(e,t){var c=t.value;return f({value:c})},v=Object(n.useState)(0),I=Object(i.a)(v,2),z=I[0],A=I[1],B=Object(n.useState)(!1),E=Object(i.a)(B,2),q=E[0],F=E[1],V=function(e){e.preventDefault();var t=e.target.lastElementChild;e.target.reset(),e.target.children[3].nextElementSibling.remove(),m.value?m.value===l?(t.textContent="Bonne r\xe9ponse :  "+O,t.className="goodAnswer",A(z+1)):(t.textContent="Mauvaise r\xe9ponse...",t.className="badAnswer"):(t.textContent=" * Vous n'avez pas coch\xe9 de r\xe9ponse !",t.className="noAnswer")},D=Object(s.g)().id,Q=Object(n.useState)([]),M=Object(i.a)(Q,2),P=M[0],R=M[1];Object(n.useEffect)((function(){d.a.get("quizzes/subcategory/".concat(D)).then((function(e){R(e.data),F(!0)})).catch((function(e){console.log(e)}))}),[]);var T=P.map((function(e){return Object(o.jsxs)(S.a,{children:[Object(o.jsx)("li",{children:e.question}),Object(o.jsxs)(w.a,{onSubmit:V,children:[Object(o.jsx)(C.a,{radio:!0,label:e.prop2,value:e.prop2,checked:m.value===e.prop2,onChange:g,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(C.a,{radio:!0,label:e.prop3,value:e.prop3,checked:m.value===e.prop3,onChange:g,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(C.a,{radio:!0,label:e.prop1,value:e.prop1,checked:m.value===e.prop1,onChange:g,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(C.a,{radio:!0,label:e.prop4,value:e.prop4,checked:m.value===e.prop4,onChange:g,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(w.a.Button,{color:"grey",type:"submit",onClick:function(t){return h(e.anecdote)},children:"Valider"}),Object(o.jsx)("p",{})]})]},e.id)}));return Object(o.jsx)("div",{className:"quiz",children:Object(o.jsxs)("div",{className:"main-quiz",children:[Object(o.jsx)("p",{className:"arrow",onClick:function(){e.goBack()},children:"\u21e6 Retour en arri\xe8re"}),Object(o.jsx)(k.a,{as:"h2",children:"Questions"}),q?[]:Object(o.jsx)(N.a,{active:!0,inverted:!0,children:Object(o.jsx)(y.a,{inverted:!0})}),T,Object(o.jsxs)(w.a,{className:"score",onSubmit:function(t){t.preventDefault();var n={number:t.target.children[1].valueAsNumber,subcategory_id:D};d.a.post("user/".concat(c,"/scores"),n,{headers:{Authorization:"Bearer "+localStorage.getItem("token"),post:{"Content-Type":"multipart/form-data"}}}).then((function(t){e.push("/profilPage/".concat(c))})).catch((function(e){console.log(e)}))},children:[Object(o.jsx)("p",{children:"Vous avez"}),Object(o.jsx)("input",{style:{border:"none",width:"7%",fontFamily:"Grandstander"},type:"number",name:"number",value:z,onChange:function(e){console.log(e.target)}}),Object(o.jsx)("p",{children:"points"}),t?Object(o.jsx)(w.a.Button,{children:"Sauvegarder"}):Object(o.jsx)(w.a.Button,{disabled:!0,children:"Sauvegarder"})]})]})})},z=function(){var e=Object(s.f)(),t=localStorage.getItem("token"),c=localStorage.getItem("userId"),a=Object(n.useState)([]),r=Object(i.a)(a,2),l=r[0],u=r[1],j=Object(n.useState)({}),b=Object(i.a)(j,2),O=b[0],h=b[1],p=function(e,t){var c=t.value;return h({value:c})},x=Object(n.useState)([]),m=Object(i.a)(x,2),f=m[0],g=m[1],v=Object(n.useState)(""),I=Object(i.a)(v,2),z=I[0],A=I[1],B=Object(n.useState)(""),E=Object(i.a)(B,2),q=E[0],F=E[1],V=Object(n.useState)(0),D=Object(i.a)(V,2),Q=D[0],M=D[1],P=Object(n.useState)(!1),R=Object(i.a)(P,2),T=R[0],H=R[1],_=function(e){e.preventDefault();var t=e.target.lastElementChild;e.target.reset(),e.target.children[3].nextElementSibling.remove(),O.value?O.value===l?(t.textContent="Bonne r\xe9ponse :  "+f,t.className="goodAnswer",M(Q+1)):(t.textContent="Mauvaise r\xe9ponse...",t.className="badAnswer"):(t.textContent=" * Vous n'avez pas coch\xe9 de r\xe9ponse !",t.className="noAnswer")},U=Object(s.g)(),Z=U.tagId,G=U.levelId,J=Object(n.useState)([]),L=Object(i.a)(J,2),$=L[0],K=L[1];Object(n.useEffect)((function(){d.a.get("tags/".concat(Z,"/levels/").concat(G)).then((function(e){K(e.data),A(e.data[0].tag.title),F(e.data[0].level.title),H(!0)})).catch((function(e){console.log(e)}))}),[G,Z]);var Y=$.map((function(e){return Object(o.jsxs)(S.a,{children:[Object(o.jsx)("li",{children:e.question}),Object(o.jsxs)(w.a,{onSubmit:_,children:[Object(o.jsx)(C.a,{radio:!0,label:e.prop2,value:e.prop2,checked:O.value===e.prop2,onChange:p,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(C.a,{radio:!0,label:e.prop1,value:e.prop1,checked:O.value===e.prop1,onChange:p,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(C.a,{radio:!0,label:e.prop3,value:e.prop3,checked:O.value===e.prop3,onChange:p,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(C.a,{radio:!0,label:e.prop4,value:e.prop4,checked:O.value===e.prop4,onChange:p,onClick:function(t){return u(e.answer.title)}}),Object(o.jsx)(w.a.Button,{color:"grey",type:"submit",onClick:function(t){return g(e.anecdote)},children:"Valider"}),Object(o.jsx)("p",{})]})]},e.id)}));return Object(o.jsx)("div",{className:"quiz",children:Object(o.jsxs)("div",{className:"main-quiz",children:[Object(o.jsx)("p",{className:"arrow",onClick:function(){e.goBack()},children:"\u21e6 Retour en arri\xe8re"}),Object(o.jsxs)(k.a,{as:"h2",children:[" Th\xe8me : ",z," / ",q]}),T?[]:Object(o.jsx)(N.a,{active:!0,inverted:!0,children:Object(o.jsx)(y.a,{inverted:!0})}),Y,Object(o.jsxs)(w.a,{className:"score",onSubmit:function(t){t.preventDefault();var n={number:t.target.children[1].valueAsNumber,tag_id:Z,level_id:G};d.a.post("user/".concat(c,"/scores"),n).then((function(t){e.push("/profilPage/".concat(c))})).catch((function(e){console.log(e)}))},children:[Object(o.jsx)("p",{children:"Vous avez"}),Object(o.jsx)("input",{style:{border:"none",width:"7%",fontFamily:"Grandstander"},type:"number",name:"number",value:Q,onChange:function(e){console.log(e.target)}}),Object(o.jsx)("p",{children:"points"}),t?Object(o.jsx)(w.a.Button,{children:"Sauvegarder"}):Object(o.jsx)(w.a.Button,{disabled:!0,children:"Sauvegarder"})]})]})})},A=c(80),B=c(90),E=c(136),q=c(127),F=c(156),V=c.n(F),D=c(157),Q=c.n(D);var M=function(){var e=Object(s.f)(),t=Object(n.useState)(!1),c=Object(i.a)(t,2),a=c[0],l=c[1],u=Object(n.useRef)(!0),j=Object(n.useState)(!0),b=Object(i.a)(j,2),h=b[0],p=b[1],x=Object(n.useState)(null),m=Object(i.a)(x,2),f=m[0],g=m[1],v=Object(n.useState)(null),S=Object(i.a)(v,2),C=S[0],N=S[1],y=Object(n.useState)({username:"",mail:"",password:""}),I=Object(i.a)(y,2),z=I[0],F=I[1],D=function(e){F(Object(B.a)(Object(B.a)({},z),{},Object(A.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){u.current?u.current=!1:p(""===z.username||""===z.mail||""===z.password||(Q.a.validate(z.password)?V.a.validate(z.mail)?(g(null),N(null),!1):(N(" * Votre adresse mail n'est pas correcte"),!0):(g(" * Votre mot de passe doit contenir au moins 8 caract\xe8res et 1 chiffre minimum"),!0)))}),[z.username,z.mail,z.password]),Object(o.jsxs)("div",{className:"profil-form",children:[Object(o.jsxs)(r.b,{to:"/",children:[Object(o.jsx)("img",{src:O,alt:"Funny quiz logo"}),Object(o.jsx)("p",{children:"Quizs marrants pour les petits et les grands!"})]}),Object(o.jsx)(k.a,{as:"h2",children:"Cr\xe9er un compte"}),Object(o.jsxs)(w.a,{onSubmit:function(e){e.preventDefault(),l(!0),d.a.post("add",z).then((function(e){})).catch((function(e){console.log(e)}))},children:[Object(o.jsxs)(w.a.Field,{children:[Object(o.jsx)("label",{children:" Pseudonyme"}),Object(o.jsx)("input",{type:"text",name:"username",value:z.username,onChange:D})]}),Object(o.jsxs)(w.a.Field,{children:[Object(o.jsx)("label",{children:" Adresse mail"}),Object(o.jsx)("input",{type:"text",name:"mail",value:z.mail,onChange:D}),C&&Object(o.jsx)("p",{className:"error",children:C})]}),Object(o.jsxs)(w.a.Field,{children:[Object(o.jsx)("label",{children:" Mot de passe"}),Object(o.jsx)("input",{type:"password",name:"password",placeholder:"8 caract\xe8res minimum et un chiffre",value:z.password,onChange:D}),f&&Object(o.jsx)("p",{className:"error",children:f})]}),Object(o.jsxs)("div",{className:"buttons",children:[Object(o.jsx)(E.a,{color:"green",type:"submit",disabled:h,children:"Valider"}),Object(o.jsx)(r.b,{to:"/",children:Object(o.jsx)(E.a,{color:"red",children:"Annuler"})})]})]}),Object(o.jsx)(q.a,{closeIcon:!0,open:a,onClose:function(){e.push("/"),l(!1)},onOpen:function(){return l(!0)},children:Object(o.jsx)(q.a.Content,{children:Object(o.jsx)("p",{children:"Compte cr\xe9e avec succ\xe8s! Vous pouvez vous connecter maintenant."})})})]})};var P=function(){var e=Object(s.f)(),t=Object(n.useState)({username:"",password:""}),c=Object(i.a)(t,2),a=c[0],l=c[1],u=Object(n.useState)({}),j=Object(i.a)(u,2),b=j[0],O=j[1],h=Object(n.useState)({}),p=Object(i.a)(h,2),x=p[0],m=p[1],f=Object(n.useState)(null),g=Object(i.a)(f,2),v=g[0],S=g[1],C=function(e){l(Object(B.a)(Object(B.a)({},a),{},Object(A.a)({},e.target.name,e.target.value)))},N=function e(){return""===a.username||""===a.password?S(" * Tous les champs doivent \xeatre compl\xe9t\xe9s "):a.username!==b||a.password!==x?S(" * Le pseudo ou le mot de passe ne sont pas corrects "):S(null),e};return Object(o.jsxs)("div",{className:"profil-form",children:[Object(o.jsx)(k.a,{as:"h2",children:"Se connecter"}),Object(o.jsxs)(w.a,{onSubmit:function(t){t.preventDefault(),d.a.post("api/login",a).then((function(t){localStorage.setItem("token",t.data.token.rows[0].token),localStorage.setItem("username",t.data.token.rows[0].username),localStorage.setItem("userId",t.data.token.rows[0].id),O(t.data.token.rows[0].username),m(t.data.token.rows[0].password),e.push("/"),window.location.reload(!1)})).catch((function(e){console.log(e)})),N()},children:[Object(o.jsxs)(w.a.Field,{children:[Object(o.jsx)("label",{children:" Pseudonyme"}),Object(o.jsx)("input",{type:"text",name:"username",onChange:C})]}),Object(o.jsxs)(w.a.Field,{children:[Object(o.jsx)("label",{children:" Mot de passe"}),Object(o.jsx)("input",{type:"password",name:"password",onChange:C})]}),v&&Object(o.jsx)("p",{className:"error",children:v}),Object(o.jsxs)("div",{className:"buttons",children:[Object(o.jsx)(E.a,{color:"green",type:"submit",children:"Valider"}),Object(o.jsx)(r.b,{to:"/",children:Object(o.jsx)(E.a,{color:"red",children:"Annuler"})})]})]})]})},R=c(218),T=c(213);var H=function(){var e=Object(s.f)(),t=localStorage.getItem("userId"),c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],l=a[1],u=function(){d.a.get("/users/".concat(t)).then((function(e){l(e.data),w(!0)})).catch((function(e){console.log(e)}))};u();var j=Object(n.useState)([]),b=Object(i.a)(j,2),h=b[0],p=b[1],x=h.map((function(e){return Object(o.jsx)(R.a,{children:Object(o.jsxs)(R.a.Item,{children:[Object(o.jsx)(R.a.Icon,{name:"check square outline"}),Object(o.jsxs)(R.a.Content,{children:[e.subcategory?Object(o.jsx)(R.a.Header,{as:"h4",style:{color:e.subcategory.color},children:e.subcategory.title}):null,Object(o.jsx)(R.a.Header,{as:"h4",style:{color:e.tag.color},children:e.tag.title}),Object(o.jsx)(R.a.Header,{as:"h4",style:{color:e.level.color},children:e.level.title}),Object(o.jsxs)(R.a.Description,{children:["Tu as obtenu ",e.number," point(s) le ",new Intl.DateTimeFormat("fr-FR").format(new Date(e.user.created_at))]})]})]})},e.id)})),m=function(){e.push("/")},f=Object(n.useState)(!1),g=Object(i.a)(f,2),v=g[0],w=g[1],C=Object(n.useState)(!1),I=Object(i.a)(C,2),z=I[0],A=I[1],B=function e(){return d.a.delete("delete/".concat(t)).then((function(e){window.location.reload(!1)})).catch((function(e){console.log(e)})),e};return Object(n.useEffect)((function(){d.a.get("scoresbyuser/user/".concat(t)).then((function(e){console.log(e.data),p(e.data)})).catch((function(e){console.log(e)}))}),[t]),Object(n.useEffect)(u,[t]),Object(o.jsxs)("div",{className:"profil-page",children:[Object(o.jsx)("div",{className:"header",children:Object(o.jsx)("img",{onClick:m,src:O,alt:"Funny quiz logo"})}),Object(o.jsx)("p",{className:"arrow",onClick:m,children:"\u21e6 Retour \xe0 la page d'accueil"}),Object(o.jsxs)(S.a,{children:[v?[]:Object(o.jsx)(N.a,{active:!0,inverted:!0,children:Object(o.jsx)(y.a,{inverted:!0})}),Object(o.jsxs)(k.a,{as:"h2",className:"welcome",children:["Bienvenue sur ton Profil ",r.username,"!"]}),Object(o.jsx)(k.a,{as:"h2",children:"Voici ton historique de jeux:"}),h?Object(o.jsx)("ul",{children:x}):Object(o.jsx)("p",{children:"Erreur"})]}),Object(o.jsx)("div",{className:"buttons",children:Object(o.jsx)(E.a,{color:"red",onClick:function(){return A(!0)},children:"Supprimer le profil"})}),Object(o.jsx)(T.a,{open:z,onCancel:function(){A(!1)},onConfirm:function(){var t=localStorage.getItem("token");d.a.get("api/logout",{headers:{Authorization:"Bearer "+t}}).then((function(e){localStorage.removeItem("token"),window.location.reload(!1),A(!1),B()})).catch((function(e){console.log(e)})),e.push("/")},content:" \xcates-vous bien s\xfbr(e) de vouloir supprimer votre profil?",cancelButton:"Annuler",confirmButton:"OK"})]})},_=function(){return Object(o.jsx)("div",{className:"footer",children:Object(o.jsx)("p",{className:"footer-text",children:"Stella Vilar - 2021 - Quizzes from openQuizzDB.com"})})};var U=function(){return Object(o.jsx)("div",{className:"container",children:Object(o.jsxs)(s.c,{children:[Object(o.jsxs)(s.a,{exact:!0,path:"/",children:[Object(o.jsx)(v,{}),Object(o.jsx)(_,{})]}),Object(o.jsx)(s.a,{exact:!0,path:"/specificQuiz/:tagId/level/:levelId",children:Object(o.jsx)(z,{})}),Object(o.jsx)(s.a,{exact:!0,path:"/classifiedQuiz/:id",children:Object(o.jsx)(I,{})}),Object(o.jsx)(s.a,{exact:!0,path:"/createAccount",children:Object(o.jsx)(M,{})}),Object(o.jsx)(s.a,{exact:!0,path:"/login",children:Object(o.jsx)(P,{})}),Object(o.jsx)(s.a,{exact:!0,path:"/profilPage/:id",children:Object(o.jsx)(H,{})}),Object(o.jsx)(s.a,{children:Object(o.jsx)(l,{})})]})})};d.a.defaults.baseURL="https://d3etzhu5m31wp5.cloudfront.net/";var Z=document.getElementById("root");Object(a.render)(Object(o.jsx)(r.a,{children:Object(o.jsx)(U,{})}),Z)}},[[200,1,2]]]);
//# sourceMappingURL=main.94790afa.chunk.js.map